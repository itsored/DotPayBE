MONGODB_URI=
PORT=4000

# Allowed browser origins for CORS (comma-separated). No trailing slash.
# Examples:
# CLIENT_ORIGINS=http://localhost:3000
# CLIENT_ORIGINS=https://dot-pay.vercel.app
CLIENT_ORIGINS=http://localhost:3000

# Shared secret between Next.js and backend (required for notifications endpoints).
DOTPAY_INTERNAL_API_KEY=

# Short-lived backend auth token verification secret.
# Must match DotPayFE `DOTPAY_BACKEND_JWT_SECRET`.
DOTPAY_BACKEND_JWT_SECRET=

# M-Pesa Daraja config.
MPESA_ENABLED=false
MPESA_ENV=sandbox
MPESA_BASE_URL=
MPESA_CONSUMER_KEY=
MPESA_CONSUMER_SECRET=
MPESA_SHORTCODE=
MPESA_STK_SHORTCODE=
MPESA_B2C_SHORTCODE=
MPESA_B2B_SHORTCODE=
MPESA_PASSKEY=
MPESA_INITIATOR_NAME=
MPESA_SECURITY_CREDENTIAL=
# Optional: generate MPESA_SECURITY_CREDENTIAL at runtime when not set.
MPESA_INITIATOR_PASSWORD=
MPESA_CERT_PATH=
# Optional overrides if Daraja issues separate initiators/credentials per API product.
MPESA_B2C_INITIATOR_NAME=
MPESA_B2C_SECURITY_CREDENTIAL=
MPESA_B2C_COMMAND_ID=BusinessPayment
MPESA_B2B_INITIATOR_NAME=
MPESA_B2B_SECURITY_CREDENTIAL=
MPESA_B2B_PAYBILL_INITIATOR_NAME=
MPESA_B2B_PAYBILL_SECURITY_CREDENTIAL=
MPESA_B2B_PAYBILL_COMMAND_ID=BusinessPayBill
MPESA_B2B_BUYGOODS_INITIATOR_NAME=
MPESA_B2B_BUYGOODS_SECURITY_CREDENTIAL=
MPESA_B2B_BUYGOODS_COMMAND_ID=BusinessBuyGoods
MPESA_B2B_BUYGOODS_RECEIVER_IDENTIFIER_TYPE=2
MPESA_B2B_REQUESTER=
# Optional dedicated production namespace (used when MPESA_ENV=production).
# These override MPESA_* only in production mode.
MPESA_PROD_CONSUMER_KEY=
MPESA_PROD_CONSUMER_SECRET=
MPESA_PROD_SHORTCODE=
MPESA_PROD_STK_SHORTCODE=
MPESA_PROD_B2C_SHORTCODE=
MPESA_PROD_B2B_SHORTCODE=
MPESA_PROD_PASSKEY=
MPESA_PROD_INITIATOR_NAME=
MPESA_PROD_SECURITY_CREDENTIAL=
MPESA_PROD_B2C_INITIATOR_NAME=
MPESA_PROD_B2C_SECURITY_CREDENTIAL=
MPESA_PROD_B2C_COMMAND_ID=
MPESA_PROD_B2C_API_VERSION=
MPESA_PROD_B2B_INITIATOR_NAME=
MPESA_PROD_B2B_SECURITY_CREDENTIAL=
MPESA_PROD_B2B_PAYBILL_INITIATOR_NAME=
MPESA_PROD_B2B_PAYBILL_SECURITY_CREDENTIAL=
MPESA_PROD_B2B_PAYBILL_COMMAND_ID=
MPESA_PROD_B2B_BUYGOODS_INITIATOR_NAME=
MPESA_PROD_B2B_BUYGOODS_SECURITY_CREDENTIAL=
MPESA_PROD_B2B_BUYGOODS_COMMAND_ID=
MPESA_PROD_B2B_BUYGOODS_RECEIVER_IDENTIFIER_TYPE=
MPESA_PROD_B2B_REQUESTER=
# B2C endpoint version (v3 default; set v1 if your app is provisioned on v1).
# Use MPESA_PROD_B2C_API_VERSION to override in production mode.
MPESA_B2C_API_VERSION=v3
MPESA_RESULT_BASE_URL=
MPESA_TIMEOUT_BASE_URL=
MPESA_WEBHOOK_SECRET=
MPESA_MAX_TXN_KES=150000
MPESA_MAX_DAILY_KES=500000
MPESA_QUOTE_TTL_SECONDS=300
MPESA_AUTO_REFUND=true
MPESA_PIN_MIN_LENGTH=6
MPESA_SIGNATURE_MAX_AGE_SECONDS=600
MPESA_REQUIRE_ONCHAIN_FUNDING=true
MPESA_MIN_FUNDING_CONFIRMATIONS=1

# Treasury settlement placeholders (required when real on-chain refunds are enabled).
TREASURY_PLATFORM_ADDRESS=
TREASURY_PRIVATE_KEY=
TREASURY_USDC_CONTRACT=
TREASURY_CHAIN_ID=
TREASURY_RPC_URL=
TREASURY_USDC_DECIMALS=6
TREASURY_WAIT_CONFIRMATIONS=1
TREASURY_REFUND_ENABLED=true

# One-time welcome faucet for new signups (test environments only).
# Uses the same treasury config above to send USDC on Arbitrum Sepolia.
WELCOME_USDC_ENABLED=false
WELCOME_USDC_AMOUNT=2
# 0 = submit tx and return immediately; >0 waits for confirmations.
WELCOME_USDC_WAIT_CONFIRMATIONS=0
